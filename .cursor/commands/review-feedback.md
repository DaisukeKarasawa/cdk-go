---
allowed-tools: Bash(git status:*), Bash(git diff:*), Bash(git log:*), Bash(git add:*), Bash(git commit:*), Bash(gh pr view:*), Bash(gh pr comment:*), Bash(gh api:*)
description: CodeRabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿å–ã‚Šã€ä¿®æ­£ã®å¦¥å½“æ€§ã‚’åˆ¤æ–­ã—ã¦ä¿®æ­£ã‚’é©ç”¨ã—ã€å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«å€‹åˆ¥ãƒªãƒ—ãƒ©ã‚¤ã§å ±å‘Šã™ã‚‹
argument-hint: [pr-number]
---

# ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œã‚³ãƒžãƒ³ãƒ‰

CodeRabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿å–ã‚Šã€ä¿®æ­£ã®å¦¥å½“æ€§ã‚’æ·±ãè€ƒãˆã€å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã‚’é©ç”¨ã—ã€**å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«å€‹åˆ¥ãƒªãƒ—ãƒ©ã‚¤**ã§å ±å‘Šã—ã¾ã™ã€‚

## ç¾åœ¨ã®çŠ¶æ³

### Git ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

!`git status --porcelain`

### ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ

!`git branch --show-current`

### æŒ‡å®šã•ã‚ŒãŸPRã®è©³ç´°

!`if [ -n "$ARGUMENTS" ]; then gh pr view $ARGUMENTS; else echo "PRç•ªå·ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’è‡ªå‹•æ¤œå‡ºã—ã¾ã™"; fi`

### PRã®ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§

!`if [ -n "$ARGUMENTS" ]; then gh pr view $ARGUMENTS --comments; else gh pr list --head $(git branch --show-current) --json number --jq '.[0].number' | xargs -I {} gh pr view {} --comments; fi`

### PRã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆï¼‰

!`if [ -n "$ARGUMENTS" ]; then gh api repos/:owner/:repo/pulls/$ARGUMENTS/comments; else gh pr list --head $(git branch --show-current) --json number --jq '.[0].number' | xargs -I {} gh api repos/:owner/:repo/pulls/{}/comments; fi`

## ã‚ãªãŸã®ã‚¿ã‚¹ã‚¯

ä¸Šè¨˜ã®æƒ…å ±ã‚’åŸºã«ã€ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å¯¾å¿œã—ã¦ãã ã•ã„ï¼š

### 1. **ã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã®èª­ã¿å–ã‚Š**

- PRã®ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§ã‚’ç¢ºèª
- CodeRabbitã‹ã‚‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’ç‰¹å®š
- ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ï¼ˆå…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰ã‚’ç¢ºèª
- ã€ŒPrompt for AI Agentsã€ã‚’å«ã‚€ã‚³ãƒ¡ãƒ³ãƒˆã‚’ç‰¹å®š
- å„ã‚³ãƒ¡ãƒ³ãƒˆã®IDã‚’è¨˜éŒ²ï¼ˆãƒªãƒ—ãƒ©ã‚¤ã«å¿…è¦ï¼‰

### 2. **ä¿®æ­£ã®å¦¥å½“æ€§ã®æ·±ã„æ¤œè¨Ž**

å„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ä»¥ä¸‹ã‚’æ¤œè¨Žï¼š

- **æŠ€è¡“çš„æ­£ç¢ºæ€§**: æŒ‡æ‘˜ã•ã‚ŒãŸå•é¡Œã¯å®Ÿéš›ã«å­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ
- **å½±éŸ¿ç¯„å›²**: ä¿®æ­£ã«ã‚ˆã‚‹å½±éŸ¿ã¯é©åˆ‡ã‹ï¼Ÿ
- **è¨­è¨ˆæ€æƒ³**: ç¾åœ¨ã®è¨­è¨ˆæ„å›³ã¨çŸ›ç›¾ã—ãªã„ã‹ï¼Ÿ
- **å„ªå…ˆåº¦**: Criticalã€Majorã€Minorã®åˆ†é¡žã¯é©åˆ‡ã‹ï¼Ÿ
- **ä»£æ›¿æ¡ˆ**: ã‚ˆã‚Šè‰¯ã„è§£æ±ºç­–ã¯ãªã„ã‹ï¼Ÿ

### 3. **ä¿®æ­£ã®é©ç”¨**

#### 3.1. **Prompt for AI AgentsãŒã‚ã‚‹å ´åˆ**

- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†…å®¹ã‚’æ­£ç¢ºã«ç†è§£
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã£ã¦ä¿®æ­£ã‚’é©ç”¨
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ„å›³ã‚’å°Šé‡

#### 3.2. **ãã®ä»–ã®ä¿®æ­£**

- æŠ€è¡“çš„ã«å¦¥å½“ã¨åˆ¤æ–­ã•ã‚ŒãŸä¿®æ­£ã®ã¿é©ç”¨
- å½±éŸ¿ç¯„å›²ã‚’æœ€å°é™ã«æŠ‘åˆ¶
- æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãŒå£Šã‚Œãªã„ã“ã¨ã‚’ç¢ºèª

### 4. **éžã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£**

ä¿®æ­£ã«ä¼´ã„æ›´æ–°ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ï¼š

- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: READMEã€è¨­è¨ˆæ›¸ã€APIä»•æ§˜æ›¸
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: go.modã€Dockerfileã€Makefile
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¿½åŠ ãƒ»ä¿®æ­£
- **CI/CD**: GitHub Actionsã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### 5. **å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«å€‹åˆ¥ãƒªãƒ—ãƒ©ã‚¤**

#### 5.1. **ä¿®æ­£ã—ãŸç®‡æ‰€**

å„CodeRabbitã®ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦å€‹åˆ¥ã«ãƒªãƒ—ãƒ©ã‚¤ï¼š

**æ‰‹é †ï¼š**

1. å„ã‚³ãƒ¡ãƒ³ãƒˆIDã‚’ç‰¹å®š
2. JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãƒªãƒ—ãƒ©ã‚¤å†…å®¹ã‚’æº–å‚™
3. GitHub APIã§ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«ãƒªãƒ—ãƒ©ã‚¤
4. ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤

**å®Ÿè£…ä¾‹ï¼š**

````bash
# 1. ãƒªãƒ—ãƒ©ã‚¤å†…å®¹ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
cat > /tmp/reply_${comment_id}.json << 'EOF'
{
  "body": "âœ… **ä¿®æ­£å®Œäº†**\n\n[å…·ä½“çš„ãªä¿®æ­£å†…å®¹]\n\n```diff\n- ä¿®æ­£å‰ã®ã‚³ãƒ¼ãƒ‰\n+ ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰\n```\n\n[ä¿®æ­£ç†ç”±ã¨å½±éŸ¿ç¯„å›²ã®èª¬æ˜Ž]"
}
EOF

# 2. ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«ãƒªãƒ—ãƒ©ã‚¤
gh api repos/:owner/:repo/pulls/${PR_NUMBER}/comments/${comment_id}/replies \
  --method POST \
  --input /tmp/reply_${comment_id}.json

# 3. ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
rm /tmp/reply_${comment_id}.json
````

**ãƒªãƒ—ãƒ©ã‚¤å†…å®¹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š**

````markdown
âœ… **ä¿®æ­£å®Œäº†**

[ä¿®æ­£å†…å®¹ã®èª¬æ˜Ž]

```diff
- ä¿®æ­£å‰ã®ã‚³ãƒ¼ãƒ‰
+ ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰
```
````

[ä¿®æ­£ç†ç”±ã¨å½±éŸ¿ç¯„å›²ã®èª¬æ˜Ž]

````

#### 5.2. **ä¿®æ­£ã—ãªã‹ã£ãŸç®‡æ‰€**

ä¿®æ­£ã‚’è¦‹é€ã£ãŸå ´åˆã®ãƒªãƒ—ãƒ©ã‚¤ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š

```markdown
ðŸ¤” **ä¿®æ­£ã‚’è¦‹é€ã‚Šã¾ã—ãŸ**

**è¦‹é€ã‚Šç†ç”±**: [ä¿®æ­£ã—ãªã„åˆ¤æ–­ã®æ ¹æ‹ ]

**æŠ€è¡“çš„åˆ¤æ–­**: [è¨­è¨ˆæ€æƒ³ã¨ã®æ•´åˆæ€§ã€å½±éŸ¿ç¯„å›²ã®è€ƒæ…®]

**ä»£æ›¿æ¡ˆ**: [å°†æ¥çš„ãªæ”¹å–„æ¡ˆãŒã‚ã‚Œã°]
```

#### 5.3. **ãƒªãƒ—ãƒ©ã‚¤å¾Œã®ç¢ºèª**

- å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ãŒå€‹åˆ¥ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- å¿…è¦ã«å¿œã˜ã¦ã€ŒResolve conversationã€ã§è§£æ±ºæ¸ˆã¿ã«ãƒžãƒ¼ã‚¯
- æœªè§£æ±ºã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### 6. **å…¨ä½“ã‚µãƒžãƒªãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**

ã™ã¹ã¦ã®å€‹åˆ¥ãƒªãƒ—ãƒ©ã‚¤å®Œäº†å¾Œã€å¿…è¦ã«å¿œã˜ã¦å…¨ä½“ã®ã‚µãƒžãƒªãƒ¼ã‚’æŠ•ç¨¿ï¼š

```bash
gh pr comment ${PR_NUMBER} --body "## ðŸ“‹ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œå®Œäº†

ã™ã¹ã¦ã®CodeRabbitã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«å€‹åˆ¥ã«å¯¾å¿œã—ã¾ã—ãŸã€‚

### ä¿®æ­£å®Œäº†é …ç›®
- [ä¿®æ­£ã—ãŸé …ç›®ã®ãƒªã‚¹ãƒˆ]

### è¦‹é€ã‚Šé …ç›®
- [è¦‹é€ã£ãŸé …ç›®ã®ãƒªã‚¹ãƒˆ]

å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã¯å€‹åˆ¥ã«ã€ŒResolve conversationã€ã§è§£æ±ºã§ãã¾ã™ã€‚"
```

## å®Ÿè¡Œä¾‹

```bash
# ç‰¹å®šã®PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å¯¾å¿œ
/review-feedback 1

# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å¯¾å¿œ
/review-feedback
```

## ä¿®æ­£ã®åˆ¤æ–­åŸºæº–

### âœ… **ä¿®æ­£ã™ã¹ãé …ç›®**

- **Critical**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã€ãƒ‡ãƒ¼ã‚¿æå¤±ã®å¯èƒ½æ€§
- **Major**: æ©Ÿèƒ½éšœå®³ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹å•é¡Œ
- **Minor**: ã‚³ãƒ¼ãƒ‰å“è³ªã€ä¿å®ˆæ€§ã®å‘ä¸Šï¼ˆå½±éŸ¿ç¯„å›²ãŒå°ã•ã„å ´åˆï¼‰

### âŒ **ä¿®æ­£ã‚’è¦‹é€ã‚‹é …ç›®**

- è¨­è¨ˆæ€æƒ³ã¨çŸ›ç›¾ã™ã‚‹ææ¡ˆ
- å½±éŸ¿ç¯„å›²ãŒå¤§ãã™ãŽã‚‹ä¿®æ­£
- ç¾åœ¨ã®è¦ä»¶ã«ä¸è¦ãªæ©Ÿèƒ½è¿½åŠ 
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä¸ååˆ†ãªä¿®æ­£

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

- **PRãŒå­˜åœ¨ã—ãªã„å ´åˆ**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- **ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒãªã„å ´åˆ**: ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- **ä¿®æ­£ã«å¤±æ•—ã—ãŸå ´åˆ**: ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«ãƒªãƒ—ãƒ©ã‚¤ã§å ±å‘Š
- **ã‚³ãƒŸãƒƒãƒˆã«å¤±æ•—ã—ãŸå ´åˆ**: è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æä¾›
- **APIã‚¨ãƒ©ãƒ¼ã®å ´åˆ**: ãƒªãƒˆãƒ©ã‚¤ã¾ãŸã¯æ‰‹å‹•æ“ä½œã®æ¡ˆå†…

## æ³¨æ„äº‹é …

- ä¿®æ­£å‰ã«å¿…ãšç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- ä¿®æ­£å¾Œã¯å¿…ãšãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ä¿®æ­£å†…å®¹ã‚’æ˜Žç¢ºã«è¨˜è¿°
- **å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«å€‹åˆ¥ãƒªãƒ—ãƒ©ã‚¤**ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é€²è¡ŒçŠ¶æ³ã‚’æ˜Žç¢ºåŒ–
- **JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨**ã—ã¦ã‚·ã‚§ãƒ«æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’å›žé¿
- **ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã¯å¿…ãšå‰Šé™¤**ã—ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- å¼•æ•°ã¨ã—ã¦æä¾›ã•ã‚ŒãŸPRç•ªå·ã‚’ä½¿ç”¨ï¼š$ARGUMENTS

## æˆåŠŸæ™‚ã®å‡ºåŠ›

ä¿®æ­£å®Œäº†å¾Œã«ä»¥ä¸‹ã‚’è¡¨ç¤ºï¼š

- ä¿®æ­£ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ•°ã¨å†…å®¹
- å„ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã¸ã®ãƒªãƒ—ãƒ©ã‚¤URL
- è§£æ±ºæ¸ˆã¿ã«ã§ãã‚‹ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³æ•°
- æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã®ææ¡ˆï¼ˆResolve conversationã®æ¡ˆå†…ï¼‰

## æŠ€è¡“çš„è©³ç´°

### GitHub API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```bash
# ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã«ãƒªãƒ—ãƒ©ã‚¤
POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies

# ä½¿ç”¨ä¾‹
gh api repos/owner/repo/pulls/1/comments/123456789/replies \
  --method POST \
  --input reply.json
```

### JSONãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

```json
{
  "body": "ãƒªãƒ—ãƒ©ã‚¤å†…å®¹ï¼ˆMarkdownå½¢å¼ï¼‰"
}
```

--- End Command ---
